---
layout: post
title:  "cocos creator 3d | èš‚èšåº„å›­è¿åŠ¨ä¼šç™»å±±èµ› "
date:   2019-11-07 22:22:22 +0800
header-img: "img/in-post/post-bg-cocos-creator.png"
categories: cocos-creator
tags:
    - cocos-creator
---
> å¥½åƒæ²¡å†™è¿‡3dé¡¹ç›®åˆ†äº«ï¼Œé‚£ä¹ˆå°±è·Ÿç€èš‚èšåº„å›­çš„å°é¸¡ä¸€èµ·è·³è·³è·³å§ï¼  

![](/img/in-post/201911/1107-bg.png)  

# æ•ˆæžœé¢„è§ˆ

![](/img/in-post/201911/1107-result.gif)  

é…ç½®çŽ¯å¢ƒ: cocos creator 3D 1.0.0  

é¦–å…ˆæ˜¯å¯»æ‰¾3dèµ„æºèŠ±è´¹äº†å¤§åŠå¤©æ—¶é—´ï¼Œå¼€å‘3dæ¸¸æˆä¸æ˜“å‘€ï¼æœ€ç»ˆè¿˜æ˜¯å‘KUOKUOå¤§ä½¬é‚£æžäº†ä¸€åªé¸¡(é¸­ï¼Ÿ)æ¥ç”¨äº†ã€‚  

ç”±äºŽæ˜¯ç¬¬ä¸€æ¬¡å†™3dé¡¹ç›®ï¼Œæ‘„åƒæœºé•œå¤´è°ƒäº†å¤šæ¬¡æ‰è¾¾åˆ°é¢„æƒ³çš„æ•ˆæžœã€‚  


![](/img/in-post/201911/1107-camera.png)  

è¿˜ç”¨äº†ä¸€ä¸ªå¤©ç©ºç›’ï¼Œç½‘ä¸Šæ‰¾çš„èµ„æºã€‚  



# å®žçŽ°åŽŸç†

ç”Ÿæˆé“è·¯æ˜¯ç”¨é¢„åˆ¶èµ„æºï¼Œä»£ç åŠ¨æ€ç”Ÿæˆã€‚  
```ts
const element: Node = instantiate(this.prefab_land);
this.node_tree.addChild(element);
```

æ‘„åƒæœºè·Ÿç€å°é¸¡ä¸€èµ·å¾€å‰ç§»åŠ¨(æˆ‘å†™çš„æ˜¯zè½´ç§»åŠ¨)ã€‚  

```ts
update(deltaTime: number) {
    this.camera_game.node.setPosition(this.camera_game.node.position.x, this.camera_game.node.position.y, this.role.node.position.z)
}
```

ç›‘å¬TOUCH_MOVEäº‹ä»¶æŽ§åˆ¶å°é¸¡å·¦å³ç§»åŠ¨ï¼Œå¹¶è¦åˆ¤æ–­è¾¹ç•Œã€‚æ³¨æ„æ‰‹æŒ‡ç§»åŠ¨çš„å˜åŒ–å’Œå®žé™…å±å¹•çœ‹åˆ°çš„å¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ˜¯å› ä¸ºæ‘„åƒæœºæŠ•å½±çš„åŽŸå› ã€‚æˆ‘æ˜¯ä¹˜äº†ä¸€ä¸ªç³»æ•°ï¼Œå¯èƒ½æœ‰å…¶ä»–æ–¹æ³•åˆ¤æ–­ï¼Ÿ  

```ts
private onTouMove(touch: Touch) {
    const delta = touch.getUIDelta();
    let targetX = this._curPos.x - delta.x * 1e-2;
    if (targetX > 4.5) targetX = 4.5;
    if (targetX < - 4.5) targetX = -4.5;
    this._curPos.x = targetX;
}
```

å¾€å‰è·³çš„è¿åŠ¨å°±æ˜¯ä¿®æ”¹y(è·³è·ƒ) å’Œ z(å¾€å‰)çš„æ•°å€¼å•¦ã€‚  
```ts
jumpRun() {
    this._curPos.z += 0.1;
    if (Math.floor(this._curPos.z / 2) > this._curIndex) {
        this._curPos.y = 0;
        this._curIndex++;
        this.node.emit('JumpEnd', this._curIndex);
    }
    if (this._curPos.z % 2 < 1) {
        this._curPos.y += 0.2;
    } else {
        this._curPos.y -= 0.2;
    }
}
```

# å°ç»“

cocos creator 3d ç”¨èµ·æ¥æŒºé¡ºæ‰‹çš„ï¼ˆæˆ‘ä¹Ÿæ²¡ç”¨è¿‡å…¶ä»–3då¼•æ“ŽðŸ˜„å“ˆå“ˆå“ˆï¼‰ï¼Œå°±æ˜¯æˆ‘å®¶çš„ mac-mini å¥½åƒæ’‘ä¸ä½ï¼Œåªè¦æ‰“å¼€å·¥å…·ä¸€æ®µæ—¶é—´å°±ä¸€ç›´åœ¨å«(å¯èƒ½æˆ‘çš„è®¾å¤‡è½åŽ)ï¼Œä¸è¿‡æ•´ä½“çš„æ•ˆæžœè¿˜æ˜¯ä¸é”™çš„ã€‚    

å…¶å®žå¼€å‘3dé¡¹ç›®è¿˜æ˜¯è¦ä¸€äº›åŸºç¡€çŸ¥è¯†çš„ï¼Œå¦‚æ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œç‚¹å…‰æºï¼Œå¹³è¡Œå…‰æºç­‰ç­‰ã€‚ï¼ˆæˆ‘ä¹Ÿæ˜¯åœ¨webglç¼–ç¨‹æŒ‡å—é‡Œå­¦åˆ°çš„ï¼Œå»ºè®®çœ‹çœ‹å“¦ðŸ˜¯ï¼‰    

ç¬¬ä¸€æ¬¡å†™3dé¡¹ç›®çš„æ¯”è¾ƒçŸ¬ä¸€ç‚¹ï¼Œè¿˜æœ‰å¾ˆå¤šéœ€è¦å­¦ä¹ çš„ã€‚å¦‚æœ‰é”™è¯¯æˆ–è€…å…¶ä»–æƒ³æ³•ï¼Œæ¬¢è¿Žç•™è¨€ï¼æˆ‘æœ‰æ–°æƒ³æ³•ä¹Ÿä¼šç¬¬ä¸€æ—¶é—´åˆ†äº«ç»™å¤§å®¶ï¼ç‚¹ä¸ªå…³æ³¨ä¸è¿·è·¯å“¦ï¼   

--- 

æ¸¸æˆå¼€å‘å°èµ¤ä½¬ï¼Œä¹ŸçŽ©python å’Œ shellã€‚â€”ç™½çŽ‰æ— å†°  

---

[åœ¨çº¿è¯•çŽ©](http://lamyoung.gitee.io/web/jumpGame)   
[æºç èŽ·å–](https://mp.weixin.qq.com/s/UJK5mn8bR_pJIGZ9SaB1Zw)  