---
layout: post
title:  "ç”¨é¸½å­è§£é‡Š Httpsã€è¯‘ã€‘"
date:   2019-09-30 08:08:08 +0800
categories: web
header-img: "img/in-post/2019-09-30-bg.png"
tags:
    - web
---
> https ? é¸½äº†ï¼Ÿ

![](/img/in-post/2019-09-30-bg.png) 
 
å¯†ç å­¦å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆéš¾ç†è§£çš„å­¦ç§‘ï¼Œå®ƒå……æ»¡äº†æ•°å­¦è¯æ˜ã€‚å¾ˆå¤šå¤æ‚çš„é«˜å±‚æ¬¡çš„ä¸œè¥¿å¯ä»¥ä¸ç”¨ç†è§£ï¼Œé™¤éä½ å®é™…æ­£åœ¨å¼€å‘åŠ å¯†ç³»ç»Ÿã€‚å¦‚æœä½ æ‰“å¼€è¿™ç¯‡æ–‡ç« å¸Œæœ›åˆ›å»ºä¸‹ä¸€ä¸ªHTTPSåè®®ï¼Œæˆ‘å¾ˆæŠ±æ­‰åœ°è¯´ï¼Œé¸½å­æ˜¯ä¸å¤Ÿçš„ã€‚è®©æˆ‘ä»¬å†²ä¸€æ¯å’–å•¡ï¼Œå¼€å§‹äº«å—æ–‡ç« å§ã€‚

### å°ç™½ï¼Œå°ç‰ï¼Œå°å†°å’Œé¸½å­ï¼Ÿ
åœ¨äº’è”ç½‘ä¸Šæ‰€åšçš„ä»»ä½•æ´»åŠ¨ï¼ˆè¯»è¿™ç¯‡æ–‡ç« ã€åœ¨æ·˜å®ä¸Šè´­ä¹°ä¸œè¥¿ã€åœ¨å…¬ä¼—å·ç•™è¨€ï¼‰å½’ç»“ä¸ºåœ¨æœåŠ¡å™¨å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚è¿™å¯èƒ½æ˜¯æœ‰ç‚¹æŠ½è±¡çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™äº›æ¶ˆæ¯æ˜¯ç”±ä¿¡é¸½ä¼ é€’çš„ã€‚æˆ‘çŸ¥é“ï¼Œè¿™å¯èƒ½çœ‹èµ·æ¥éå¸¸æ­¦æ–­ï¼Œå°½ç®¡HTTPSçš„é€Ÿåº¦è¦å¿«å¾—å¤šï¼Œä½†å·¥ä½œåŸç†æ˜¯ä¸€æ ·çš„ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†è°ˆè®ºå°ç™½ã€å°ç‰å’Œå°å†°ï¼Œè€Œä¸æ˜¯è°ˆè®ºæœåŠ¡å™¨ã€å®¢æˆ·ç«¯å’Œé»‘å®¢ã€‚

### ç¬¬ä¸€æ¬¡æ²Ÿé€š
å¦‚æœ å°ç™½ æƒ³å‘ å°ç‰ å‘é€æ¶ˆæ¯ï¼Œå¥¹å°†è¯¥æ¶ˆæ¯é™„åŠ åˆ°ä¿¡é¸½çš„è…¿ä¸Šï¼Œå¹¶å°†å…¶å‘é€ç»™ å°ç‰ã€‚å°ç‰ æ”¶åˆ°æ¶ˆæ¯ï¼Œå¹¶è¯»å–æ¶ˆæ¯ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚

ä½†æ˜¯ï¼Œå¦‚æœ å°å†° åœ¨é£è¡Œä¸­æ‹¦æˆªäº† å°ç™½ çš„é¸½å­å¹¶æ”¹å˜äº†æ¶ˆæ¯å‘¢ï¼Ÿå°ç‰ æ— æ³•çŸ¥é“ å°ç™½ å‘é€çš„æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å·²è¢«ä¿®æ”¹ã€‚
![](/img/in-post/2019-09-30-first.png) 

è¿™å°±æ˜¯ HTTP çš„å·¥ä½œåŸç†ã€‚å¾ˆå“äººå§ï¼Ÿæˆ‘ä»¬ä¸ä¼šé€šè¿‡ HTTP å‘é€æˆ‘çš„é“¶è¡Œå‡­æ®ã€‚  


### åŠ å¯†
ç°åœ¨ï¼Œå¦‚æœ å°ç™½ å’Œ å°ç‰ å¾ˆèªæ˜å‘¢ï¼Ÿä»–ä»¬åŒæ„ä½¿ç”¨å¯†ç æ¥å†™ä¿¡æ¯ã€‚ä»–ä»¬å°†æ¯ä¸ªå­—æ¯åœ¨å­—æ¯è¡¨ä¸­ç§»åŠ¨ 3 ä¸ªä½ç½®ã€‚ä¾‹å¦‚ D â¡ï¸ Aï¼ŒE â¡ï¸ Bï¼ŒF â¡ï¸ Cã€‚çº¯æ–‡æœ¬æ¶ˆæ¯"secret message"å°†æ˜¯"pbzobq jbppxdb"ã€‚

ç°åœ¨ï¼Œå¦‚æœ å°å†° æ‹¦æˆªé¸½å­ï¼Œå¥¹å°†æ— æ³•æ”¹å˜ä¿¡æ¯åˆ°æœ‰æ„ä¹‰çš„ä¸œè¥¿ï¼Œä¹Ÿç†è§£å®ƒè¯´ä»€ä¹ˆï¼Œå› ä¸ºå¥¹ä¸çŸ¥é“çš„ä»£ç ã€‚ä½†æ˜¯ å°ç‰ å¯ä»¥ç®€å•åœ°åå‘åº”ç”¨ä»£ç ï¼Œå¹¶è§£å¯† A â¡ï¸ Dã€B â¡ï¸ Eã€C â¡ï¸ F çš„æ¶ˆæ¯ã€‚å¯†ç æ–‡æœ¬"pbzobq jbppxdb"å°†è¢«è§£å¯†å›"secret message"ã€‚
![](/img/in-post/2019-09-30-a-secret.png) 

æˆåŠŸï¼

è¿™ç§°ä¸º**å¯¹ç§°å¯†é’¥åŠ å¯†**(symmetric key cryptography)ï¼Œå› ä¸ºå¦‚æœçŸ¥é“å¦‚ä½•åŠ å¯†æ¶ˆæ¯ï¼Œä¹ŸçŸ¥é“å¦‚ä½•è§£å¯†å®ƒã€‚

æˆ‘ä¸Šé¢æè¿°çš„åŠ å¯†æ–¹å¼é€šå¸¸è¢«ç§°ä¸º**å‡¯æ’’å¯†ç **(Caesar cipher)ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ›´å¥‡ç‰¹å’Œæ›´å¤æ‚çš„ä»£ç ï¼Œä½†ä¸»è¦æ€æƒ³æ˜¯ç›¸åŒçš„ã€‚

### æˆ‘ä»¬å¦‚ä½•å†³å®šå¯†é’¥ï¼Ÿ
å¦‚æœé™¤äº†å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹å¤–æ²¡æœ‰äººçŸ¥é“ä½¿ç”¨äº†ä»€ä¹ˆå¯†é’¥ï¼Œåˆ™å¯¹ç§°å¯†é’¥åŠ å¯†æ˜¯éå¸¸å®‰å…¨çš„ã€‚åœ¨å‡¯æ’’å¯†ç ä¸­ï¼Œå…³é”®æ˜¯æˆ‘ä»¬è½¬ç§»æ¯ä¸ªå­—æ¯çš„å­—æ¯æ•°çš„åç§»é‡ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åç§»é‡ 3ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨ 4 æˆ– 12ã€‚

é—®é¢˜æ˜¯ï¼Œå¦‚æœ å°ç™½ å’Œ å°ç‰ åœ¨å¼€å§‹ç”¨é¸½å­å‘é€æ¶ˆæ¯ä¹‹å‰æ²¡æœ‰è§é¢ï¼Œä»–ä»¬å°±æ²¡æœ‰åŠæ³•å®‰å…¨åœ°å»ºç«‹å¯†é’¥ã€‚å¦‚æœä»–ä»¬åœ¨æ¶ˆæ¯æœ¬èº«ä¸­å‘é€å¯†é’¥ï¼Œ å°å†° å°†æ‹¦æˆªè¯¥æ¶ˆæ¯å¹¶å‘ç°å¯†é’¥ã€‚è¿™æ ·çš„è¯ï¼Œåœ¨ å°ç™½ åŠ å¯†ä¹‹åå’Œ å°ç‰ è§£å¯†ä¹‹å‰ï¼Œ å°å†° é˜…è¯»æˆ–æ›´æ”¹æ¶ˆæ¯ã€‚
![](/img/in-post/2019-09-30-secret-xb.png) 

è¿™æ˜¯**ä¸­é—´äººæ”»å‡»**(Man in the Middle Attack)çš„å…¸å‹ä¾‹å­ï¼Œé¿å…å®ƒçš„å”¯ä¸€æ–¹æ³•æ˜¯ä¸€èµ·æ›´æ”¹åŠ å¯†ç³»ç»Ÿã€‚

### æºå¸¦ç®±å­çš„é¸½å­
äºæ˜¯ å°ç™½ å’Œ å°ç‰ æƒ³å‡ºäº†ä¸€ä¸ªæ›´å¥½çš„ç³»ç»Ÿã€‚å½“ å°ç‰ æƒ³å‘ å°ç™½ å‘é€æ¶ˆæ¯æ—¶ï¼Œå¥¹å°†æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

- å°ç‰ ç»™ å°ç™½ å¯„äº†ä¸€åªé¸½å­ï¼Œæ²¡æœ‰ä»»ä½•æ¶ˆæ¯ã€‚
- å°ç™½ æŠŠé¸½å­é€å›å»ï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€ä¸ªå¸¦æ‰“å¼€é”çš„ç›’å­ï¼Œä½†æŠŠé’¥åŒ™ç•™ç€ã€‚
- å°ç‰ æŠŠæ¶ˆæ¯æ”¾åœ¨ç›’å­é‡Œï¼Œå…³é—­é”ï¼ŒæŠŠç›’å­å‘é€ç»™ å°ç™½ ã€‚
- å°ç™½ æ¥æ”¶è¯¥ç›’å­ï¼Œç”¨é’¥åŒ™æ‰“å¼€å®ƒå¹¶è¯»å–æ¶ˆæ¯ã€‚

![](/img/in-post/2019-09-30-a-box.png) 

è¿™æ · å°å†° ä¸èƒ½é€šè¿‡æ‹¦æˆªé¸½å­æ¥æ”¹å˜ä¿¡æ¯ï¼Œå› ä¸ºå¥¹æ²¡æœ‰é’¥åŒ™ã€‚å½“ å°ç™½ æƒ³è¦å‘ å°ç‰ å‘é€æ¶ˆæ¯æ—¶ï¼Œå°†éµå¾ªç›¸åŒçš„è¿‡ç¨‹ã€‚

å°ç™½ å’Œ å°ç‰ åˆšåˆšä½¿ç”¨äº†é€šå¸¸æ‰€è¯´çš„**éå¯¹ç§°å¯†é’¥åŠ å¯†**(asymmetric key cryptography)ã€‚å®ƒè¢«ç§°ä¸ºéå¯¹ç§°ï¼Œå› ä¸ºå³ä½¿ä½ å¯ä»¥åŠ å¯†æ¶ˆæ¯ï¼ˆé”å®šçš„ç›’å­ï¼‰ï¼Œä½ ä¹Ÿä¸èƒ½è§£å¯†å®ƒï¼ˆæ‰“å¼€ä¸€ä¸ªå°é—­çš„çš„ç›’å­ï¼‰ã€‚  
åœ¨ä¸“ä¸šæœ¯è¯­ä¸­ï¼Œè¯¥çš„ç›’å­ç§°ä¸º**å…¬é’¥**(public key)ï¼Œæ‰“å¼€å®ƒçš„é’¥åŒ™ç§°ä¸º**ç§é’¥**(private key)ã€‚

### å¦‚ä½•ä¿¡ä»»è¿™ä¸ªç›’å­ï¼Ÿ
ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰é—®é¢˜ã€‚å½“ å°ç‰ æ”¶åˆ°é‚£ä¸ªæ‰“å¼€çš„ç›’å­æ—¶ï¼Œä»–æ€ä¹ˆèƒ½ç¡®å®šå®ƒæ¥è‡ª å°ç™½ï¼Œ å°å†° ä¹Ÿæœ‰å¯èƒ½æ‹¦æˆªé¸½å­ï¼Œç”¨å¥¹æœ‰é’¥åŒ™çš„ç›’å­æ¢äº†ç›’å­å‘¢ï¼Ÿ
![](/img/in-post/2019-09-30-a-box-xb.png) 

å°ç™½ å†³å®šç»™ç›’å­ç­¾åï¼Œè¿™æ ·å½“ å°ç‰ æ”¶åˆ°ç›’å­ï¼Œä»–æ£€æŸ¥ç­¾åï¼Œå¹¶çŸ¥é“æ˜¯ å°ç™½ é€äº†ç›’å­ã€‚

ä½ ä»¬ä¸­æœ‰äº›äººå¯èƒ½åœ¨æƒ³ï¼Œå°ç‰ ä¸€å¼€å§‹å¦‚ä½•è¯†åˆ« å°ç™½ çš„ç­¾åï¼Ÿé—®å¾—å¥½ã€‚å°ç™½ å’Œ å°ç‰ ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥ä»–ä»¬å†³å®šï¼Œè€Œä¸æ˜¯ å°ç™½ ç»™ç›’å­ç­¾åï¼Œè€Œæ˜¯ å°æ—  ç»™ç›’å­ç­¾åã€‚
![](/img/in-post/2019-09-30-box-sign.png) 
è°æ˜¯å°æ—  ï¼Ÿå°æ—  æ˜¯ä¸€ä¸ªéå¸¸æœ‰åï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œå€¼å¾—ä¿¡èµ–çš„äººã€‚å°æ—  æŠŠç­¾åç»™äº†æ¯ä¸ªäººï¼Œæ¯ä¸ªäººéƒ½ç›¸ä¿¡ï¼Œä»–åªä¼šä¸ºåˆæ³•çš„äººç­¾åã€‚

åªæœ‰ å°æ—  ç¡®å®šè¦æ±‚ç­¾åçš„é‚£ä¸ªæ˜¯ å°ç™½ï¼Œä»–æ‰ä¼šåœ¨ å°ç™½ çš„ç›’å­ä¸Šç­¾åã€‚å› æ­¤ï¼Œ å°å†° æ— æ³•ç”¨ç”± å°æ—  ä»£è¡¨å°ç™½ç­¾åçš„ç›’å­ï¼Œå› ä¸º å°ç‰ ä¼šçŸ¥é“è¯¥ç›’å­æ˜¯å‡çš„ï¼Œå› ä¸º å°æ—  ä»…åœ¨éªŒè¯å…¶èº«ä»½åä¸ºäººä»¬ç­¾åã€‚

æŠ€æœ¯æœ¯è¯­ å°æ—  é€šå¸¸ç§°ä¸º**è¯ä¹¦é¢å‘æœºæ„**(Certification Authority)ï¼Œä½ é˜…è¯»æœ¬æ–‡çš„æµè§ˆå™¨é™„å¸¦äº†å„ç§è¯ä¹¦é¢å‘æœºæ„çš„ç­¾åã€‚

å› æ­¤ï¼Œå½“ä½ ç¬¬ä¸€æ¬¡è¿æ¥åˆ°ç½‘ç«™æ—¶ï¼Œä½ ä¿¡ä»»å…¶ç›’å­ï¼Œå› ä¸ºä½ ä¿¡ä»» å°æ—  å‘Šè¯‰ä½ è¯¥ç›’å­æ˜¯åˆæ³•çš„ã€‚

### ç›’å­å¾ˆé‡
å°ç™½ å’Œ å°ç‰ ç°åœ¨æœ‰ä¸€ä¸ªå¯é çš„æ²Ÿé€šç³»ç»Ÿï¼Œä½†ä»–ä»¬æ„è¯†åˆ°ï¼Œæºå¸¦ç®±å­çš„é¸½å­æ¯”åªæºå¸¦ä¿¡æ¯çš„é¸½å­æ…¢ã€‚

ä»–ä»¬å†³å®šä½¿ç”¨ç›’å­çš„æ–¹æ³•(éå¯¹ç§°åŠ å¯†)ä¼ è¾“ä¸€ä¸ªå¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œç„¶åå†ç”¨è¿™ä¸ªå¯†é’¥è¿›è¡Œå¯¹ç§°åŠ å¯†ä¿¡æ¯ä¼ è¾“ã€‚ï¸
(è¿™æ®µæ˜¯è‡ªå·±ç†è§£çš„ï¼Œé™„ä¸ŠåŸæ–‡)  
> They decide that they will use the box method (asymmetric cryptography) only to choose a key to encrypt the message using symmetric cryptography with (remember the Caesar cipher?).

è¿™æ ·ï¼Œä»–ä»¬å¾—åˆ°æœ€å¥½çš„ä¸¤ä¸ªç»“æœã€‚éå¯¹ç§°åŠ å¯†çš„å¯é æ€§å’Œå¯¹ç§°åŠ å¯†çš„æ•ˆç‡ã€‚

åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæ²¡æœ‰æ…¢é¸½å­ï¼Œä½†å°½ç®¡å¦‚æ­¤ï¼Œä½¿ç”¨éå¯¹ç§°åŠ å¯†åŠ å¯†å¯¹æ¶ˆæ¯çš„åŠ å¯†é€Ÿåº¦æ¯”ä½¿ç”¨å¯¹ç§°åŠ å¯†è¦æ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åªç”¨å®ƒæ¥äº¤æ¢åŠ å¯†å¯†é’¥ã€‚

ç°åœ¨ï¼Œä½ åº”è¯¥çŸ¥é“ HTTPS çš„å·¥ä½œåŸç†ï¼Œä½ çš„å’–å•¡ä¹Ÿåº”è¯¥å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å»å–å’–å•¡â˜•ï¸äº†ã€‚


----
[åŸæ–‡é“¾æ¥ğŸ”—](https://medium.com/free-code-camp/https-explained-with-carrier-pigeons-7029d2193351){:target="_blank"}